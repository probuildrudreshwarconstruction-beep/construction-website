<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ProBuild Rudreshwar</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
body { font-family: Arial, sans-serif; background:#f7fafc; margin:0; padding:0; }
.container { max-width:1200px; margin:auto; padding:2rem; }
.section { background:white; padding:2rem; border-radius:0.5rem; margin-bottom:2rem; box-shadow:0 2px 8px rgba(0,0,0,0.1); }
.fancy-bullet { color:#d69e2e; font-weight:bold; margin-right:0.5rem; }
.project-card { cursor:pointer; transition: transform 0.3s ease; }
.project-card:hover { transform: scale(1.05); }
.contact-btn { margin:0.5rem; padding:0.5rem 1.5rem; border-radius:0.5rem; font-weight:bold; }
.admin-section { background:#fef3c7; padding:1rem; border-radius:0.5rem; margin-top:2rem; }
input, textarea { width:100%; padding:0.5rem; margin:0.3rem 0; border:1px solid #ccc; border-radius:0.25rem; }
button { cursor:pointer; }
</style>
</head>
<body>

<!-- Logo + Name -->
<div class="container flex items-center space-x-4 py-4">
<img src="static/assets/b1.jpg" class="h-16 w-16 rounded-full shadow">
<h1 class="text-3xl font-bold">☬ ProBuild Rudreshwar ☬</h1>
</div>

<!-- About Us -->
<div class="container section">
<h2 class="text-2xl font-semibold mb-4">☬ About Us ☬</h2>
<ul>
<li><span class="fancy-bullet">•</span>Led by Er. Rushikesh Shivarkar, B.E. Civil — Govt. Contractor & Vastu Expert</li>
<li><span class="fancy-bullet">•</span>Trusted Construction Solutions since 2015</li>
<li><span class="fancy-bullet">•</span>Residential & Industrial Projects</li>
<li><span class="fancy-bullet">•</span>Modern Design with Structural Integrity</li>
</ul>
</div>

<!-- Services -->
<div class="container section">
<h2 class="text-2xl font-semibold mb-4">☬ Our Services ☬</h2>
<ul>
<li><span class="fancy-bullet">•</span>PMC, PMRDA Plan Sanctioning</li>
<li><span class="fancy-bullet">•</span>Architectural Drawing & Design</li>
<li><span class="fancy-bullet">•</span>Structural Steel Designing</li>
<li><span class="fancy-bullet">•</span>3D Bungalow / Building Designing</li>
<li><span class="fancy-bullet">•</span>Interior Design — Lock & Key Projects</li>
<li><span class="fancy-bullet">•</span>Estimation, Costing & Property Evaluation</li>
<li><span class="fancy-bullet">•</span>Pre-Engineering Buildings</li>
<li><span class="fancy-bullet">•</span>Warehouses & Godowns</li>
</ul>
</div>

<!-- Projects -->
<div class="container section">
<h2 class="text-2xl font-semibold mb-6">☬ Our Projects ☬</h2>
<div id="project-gallery" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"></div>
</div>

<!-- Founder -->
<div class="container section">
<h2 class="text-2xl font-semibold mb-2">Founder</h2>
<p><b>Er. Rushikesh Shivarkar B.E.CIVIL</b></p>
<p>Address: Lane No.1, Laxmi Colony, Pune</p>
</div>

<!-- Contact -->
<div class="container section text-center">
<h2 class="text-2xl font-semibold mb-4">Contact Us</h2>
<a href="https://wa.me/919999999999" target="_blank" class="contact-btn bg-green-500 text-white hover:bg-green-600">WhatsApp</a>
<a href="#" target="_blank" class="contact-btn bg-blue-500 text-white hover:bg-blue-600">Instagram</a>
<a href="#" target="_blank" class="contact-btn bg-yellow-400 text-black hover:bg-yellow-500">Google Forms</a>
</div>

<!-- Admin Panel -->
<div class="container admin-section">
<h2 class="text-xl font-bold mb-2">Admin Panel</h2>
<p>Enter admin password to manage projects:</p>
<input type="password" id="admin-pass" placeholder="Admin password">
<button onclick="loginAdmin()" class="contact-btn bg-gray-700 text-white">Login</button>

<div id="admin-controls" style="display:none; margin-top:1rem;">
<h3 class="font-semibold">Upload Project</h3>
<input type="file" id="file-upload"><br>
<input type="text" id="title" placeholder="Project Title"><br>
<textarea id="desc" placeholder="Project Description"></textarea><br>
<button onclick="uploadProject()" class="contact-btn bg-green-500 text-white">Upload</button>

<h3 class="font-semibold mt-4">Manage Projects</h3>
<div id="admin-projects"></div>
</div>
</div>

<script>
let adminPass = "";

function loadGallery() {
fetch("/api/projects")
.then(res=>res.json())
.then(projects=>{
  const gallery=document.getElementById("project-gallery");
  gallery.innerHTML="";
  projects.forEach(p=>{
    gallery.innerHTML+=`
    <div class="project-card bg-white shadow-lg rounded-lg overflow-hidden">
      <img src="${p.file_url}" class="w-full h-48 object-cover">
      <div class="p-4">
        <h3 class="text-xl font-semibold">${p.title}</h3>
        <p class="text-gray-600">${p.description}</p>
      </div>
    </div>`;
  });
});
}
loadGallery();

// Admin login
function loginAdmin(){
adminPass=document.getElementById("admin-pass").value;
document.getElementById("admin-controls").style.display="block";
loadAdminProjects();
}

// Load admin projects
function loadAdminProjects(){
fetch("/api/projects")
.then(res=>res.json())
.then(projects=>{
  const container=document.getElementById("admin-projects");
  container.innerHTML="";
  projects.forEach(p=>{
    container.innerHTML+=`<div>
      <b>${p.title}</b>
      <button onclick="deleteProject('${p.id}')">Delete</button>
    </div>`;
  });
});

// Upload project
function uploadProject(){
let file=document.getElementById("file-upload").files[0];
let title=document.getElementById("title").value;
let desc=document.getElementById("desc").value;
let form=new FormData();
form.append("file",file);
form.append("title",title);
form.append("description",desc);
form.append("password",adminPass);
fetch("/api/upload",{method:"POST",body:form})
.then(res=>res.json())
.then(data=>{
if(data.success){alert("Uploaded!"); loadGallery(); loadAdminProjects();}
else alert(data.error);
});
}

// Delete project
function deleteProject(id){
let form=new FormData();
form.append("password",adminPass);
fetch("/api/delete/"+id,{method:"POST",body:form})
.then(res=>res.json())
.then(data=>{
if(data.success){alert("Deleted!"); loadGallery(); loadAdminProjects();}
else alert(data.error);
});
}
</script>

</body>
</html>
